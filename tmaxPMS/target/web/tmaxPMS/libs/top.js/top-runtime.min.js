var _prepBehaviors=function(topWidget){if(topWidget.behaviors&&topWidget.behaviors.length>0){topWidget.behaviors=_flattenBehaviorsList(topWidget.behaviors);topWidget.behaviors.forEach(function(b){for(var i in b.properties){if(b.properties[i].reflectToAttribute){if(topWidget.reflectToAttributeList===undefined){topWidget.reflectToAttributeList=[]}topWidget.reflectToAttributeList.push(i)}}})}for(var i in topWidget.properties){if(topWidget.properties[i].reflectToAttribute){if(topWidget.reflectToAttributeList===undefined){topWidget.reflectToAttributeList=[]}topWidget.reflectToAttributeList.push(i)}}};var _flattenBehaviorsList=function(behaviors){var flat=[];behaviors.forEach(function(b){if(b instanceof Array){flat=flat.concat(_flattenBehaviorsList(b))}else if(b){flat.push(b)}});return flat};var _initProperties=function(topWidget,e){topWidget._propList={};topWidget.behaviors.forEach(function(b){_configureProperties(b.properties,e,topWidget)});_configureProperties(topWidget.properties,e,topWidget);for(var i=0,l=e.attributes.length;i<l;i++){if(e.attributes[i])_setAttributeToProperty(e,e.attributes[i].name,topWidget)}};var _configureProperties=function(properties,e,topWidget){for(var i in properties){var c=properties[i];topWidget._propList[i]=c;if(c.value!==undefined){var value=c.value;if(typeof value=="function"){value=value.call(this)}Object.defineProperty(e,i,{value:value,writable:true,enumerable:true});if(topWidget.reflectToAttributeList.indexOf(i)>-1&&e.attributes[Top.Util.toDash(i)]===undefined){e.setAttribute(Top.Util.toDash(i),value)}}}};var _setAttributeToProperty=function(e,attrName,topWidget){var propName=_dashToCamelCase(attrName);if(topWidget._propList[propName]!==null){var val=e.getAttribute(attrName);if(typeof topWidget._propList[propName]==="object"){var type=topWidget._propList[propName].type}else{var type=topWidget._propList[propName]}if(type===Number){e[propName]=Number(val)}else{e[propName]=val}}};var propMap={};var _dashToCamelCase=function(dash){var mapped=propMap[dash];if(mapped){return mapped}if(dash.indexOf("-")<0){return propMap[dash]=dash}return propMap[dash]=dash.replace(/-([a-z])/g,function(m){return m[1].toUpperCase()})};var _prepAllBehaviors=function(topWidget,e){for(var i=topWidget.behaviors.length-1;i>=0;i--){_mixinBehavior(topWidget.behaviors[i],e,false)}_mixinBehavior(topWidget,e,true)};var _mixinBehavior=function(b,e,override){Object.getOwnPropertyNames(b).forEach(function(n){switch(n){case"hostAttributes":case"registered":case"properties":case"observers":case"listeners":case"created":if(override){_copyOwnProperty(n,b,e);break}case"attached":if(override){_copyOwnProperty(n,b,e);break}case"detached":if(override){_copyOwnProperty(n,b,e);break}case"attributeChanged":if(override){_copyOwnProperty(n,b,e);break}case"configure":case"ready":if(override){_copyOwnProperty(n,b,e);break}break;default:if(override||!e.hasOwnProperty(n)){_copyOwnProperty(n,b,e)}break}})};var _copyOwnProperty=function(name,source,target){var pd=Object.getOwnPropertyDescriptor(source,name);if(pd){Object.defineProperty(target,name,pd)}};var _callCallback=function(node,state){node.behaviors.forEach(function(b){var fn=b[state];if(fn){fn.apply(node)}});var fn=node[state];if(fn){fn.apply(node)}};var insertedNodes=[];var createdNodes=[];var srcRootNode=[];var directDetachedNodes=[];var topWidgets={"top-absolutelayout":TopAbsolutelayout,"top-accordionlayout":TopAccordionlayout,"top-accordiontab":TopAccordionTab,"top-alarmbadge":TopAlarmbadge,"top-breadcrumb":TopBreadcrumb,"top-button":TopButton,"top-chart":TopChart,"top-checkbox":TopCheckbox,"top-chip":TopChip,"top-codeeditor":TopCodeEditor,"top-colorpicker":TopColorpicker,"top-contextmenu":TopContextmenu,"top-dashboard":TopDashboard,"top-datepicker":TopDatepicker,"top-dialog":TopDialog,"top-docklayout":TopDocklayout,"top-foldinglayout":TopFoldinglayout,"top-form":TopForm,"top-framelayout":TopFramelayout,"top-gridlayout":TopGridlayout,"top-htmleditor":TopHtmleditor,"top-icon":TopIcon,"top-imagebutton":TopImagebutton,"top-imageslider":TopImageslider,"top-imageview":TopImageview,"top-layout":TopLayout,"top-linearlayout":TopLinearlayout,"top-listview":TopListview,"top-menu":TopMenu,"top-notification":TopNotification,"top-page":TopPage,"top-pagination":TopPagination,"top-panel":TopPanel,"top-popover":TopPopover,"top-progressbar":TopProgressbar,"top-radiobutton":TopRadiobutton,"top-scrolllayout":TopScrolllayout,"top-selectbox":TopSelectbox,"top-sidemenu":TopSidemenu,"top-slider":TopSlider,"top-stepper":TopStepper,"top-spinner":TopSpinner,"top-splitterlayout":TopSplitterlayout,"top-switch":TopSwitch,"top-tablayout":TopTablayout,"top-tableview":TopTableview,"top-textarea":TopTextarea,"top-textfield":TopTextfield,"top-textview":TopTextview,"top-timer":TopTimer,"top-toggle":TopToggle,"top-treeview":TopTreeview,"top-videoview":TopVideoview,"top-webview":TopWebview,"top-widgetitem":TopWidgetitem};for(name in topWidgets){_prepBehaviors(topWidgets[name])}var MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){for(var i=0;i<mutation.addedNodes.length;i++){var node=mutation.addedNodes[i];if(Top.Util.Browser.getIEVersion()<11&&node.tagName&&node.tagName.toLowerCase()==="body"){var data=node.innerHTML;node.innerHTML="";node.innerHTML=data}else if(node.tagName&&topWidgets[node.tagName.toLowerCase()]!==undefined){if(createdNodes.includes(node)){createdNodes.splice(createdNodes.indexOf(node),1);return}if(srcRootNode.includes(node)){srcRootNode.splice(srcRootNode.indexOf(node),1);return}var topWidget=topWidgets[node.tagName.toLowerCase()];_initProperties(topWidget,node);_prepAllBehaviors(topWidget,node);delete topWidget;if(Top.App.isLoaded()){if(!node.isTemplateAppended())node.appendTemplate();insertedNodes.splice(0,0,node);_insertedNodesCallback();return}if(node.tagName&&node.tagName.toLowerCase()==="top-page"){var data=node.innerHTML;node.clearChilds();node.appendHtmlString(data);node.initialChilds();insertedNodes.push(node)}}}for(var i=0;i<mutation.removedNodes.length;i++){var rNode=mutation.removedNodes[i];if(rNode.tagName&&topWidgets[rNode.tagName.toLowerCase()]!==undefined&&rNode.behaviors!==undefined){if(directDetachedNodes.includes(node)){directDetachedNodes.splice(directDetachedNodes.indexOf(node),1);return}_callCallback(rNode,"detached")}delete rNode}})});var options={childList:true,subtree:true};var _setDefaultProperties=function(node){if(Top.configs.defaultProperties){var config=Top.configs.defaultProperties[node.nodeName.toLowerCase()];if(config){for(key in config){var value=config[key];if(key.indexOf("-")>-1)var jsKey=key.replaceAt(key.indexOf("-")+1,key.charAt(key.indexOf("-")+1).toUpperCase()).replace("-","");else jsKey=key;if(node[jsKey]===undefined){node.setAttribute(key,value);node[jsKey]=value}}}}return node};observer.observe(document,options);var _insertedNodesCallback=function(){var l=insertedNodes.length;while(l--){insertedNodes[l]=_setDefaultProperties(insertedNodes[l]);_callCallback(insertedNodes[l],"created");_callCallback(insertedNodes[l],"ready");if(!srcRootNode.includes(insertedNodes[l]))_callCallback(insertedNodes[l],"attached")}insertedNodes=[]};var _srcRootNodesAttachedCallback=function(){var l=srcRootNode.length;while(l--){_callCallback(srcRootNode[l],"attached")}};var _directDetachNodesDetachedCallback=function(){for(var i=0,len=directDetachedNodes.length;i<len;i++){_callCallback(directDetachedNodes[i],"detached")}};document.addEventListener("DOMContentLoaded",function(event){Top.App.onLoad(function(){_insertedNodesCallback()})});